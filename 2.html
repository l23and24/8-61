<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест з фізики: Аналіз теплових процесів</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .progress-ring__circle {
            transition: stroke-dashoffset 0.8s ease-out;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen">

<div class="flex flex-col items-center justify-start p-4 md:justify-center w-full min-h-screen">
    <!-- Main Card -->
    <div id="quiz-container" class="w-full max-w-2xl mx-auto bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden transition-all duration-500">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-700 to-indigo-800 p-6 text-center text-white">
            <h1 class="text-2xl font-black tracking-tight">Аналіз теплових процесів</h1>
            <p class="text-blue-100 text-sm mt-1 font-medium opacity-90 uppercase tracking-widest">Фізика • Термодинаміка</p>
        </div>

        <div class="p-6 md:p-8 space-y-8">
            <!-- SVG Graph -->
            <div class="relative w-full aspect-[16/9] bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 flex items-end shadow-inner overflow-hidden">
                <div class="absolute left-4 top-2 text-xs font-bold text-slate-500 flex items-center gap-1">
                    <span class="bg-slate-200 px-1.5 py-0.5 rounded text-slate-700">t, °C</span>
                </div>
                <div class="absolute right-4 bottom-2 text-xs font-bold text-slate-500">
                    <span class="bg-slate-200 px-1.5 py-0.5 rounded text-slate-700">τ, хв</span>
                </div>
                
                <div class="absolute left-10 bottom-8 w-0.5 h-[85%] bg-slate-400 rounded-full"></div>
                <div class="absolute left-10 bottom-8 h-0.5 w-[85%] bg-slate-400 rounded-full"></div>
                
                <svg class="absolute left-10 bottom-8 w-[85%] h-[85%] overflow-visible" viewBox="0 0 300 150">
                    <line x1="0" y1="40" x2="300" y2="40" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4" />
                    <line x1="0" y1="90" x2="300" y2="90" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4" />
                    <line x1="0" y1="120" x2="300" y2="120" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4" />

                    <path d="M 0,140 L 50,40 L 100,40 L 130,10" fill="none" stroke="#2563eb" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="50" cy="40" r="4" fill="#2563eb" />
                    <text x="135" y="15" fill="#2563eb" font-size="18" font-weight="900">1</text>
                    
                    <path d="M 0,140 L 60,90 L 150,90 L 180,50" fill="none" stroke="#ea580c" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="60" cy="90" r="4" fill="#ea580c" />
                    <text x="185" y="55" fill="#ea580c" font-size="18" font-weight="900">2</text>
                    
                    <path d="M 0,140 L 80,120 L 220,120 L 250,90" fill="none" stroke="#16a34a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="80" cy="120" r="4" fill="#16a34a" />
                    <text x="255" y="95" fill="#16a34a" font-size="18" font-weight="900">3</text>
                    <text x="-5" y="145" fill="#94a3b8" font-size="12" font-weight="bold">0</text>
                </svg>
            </div>

            <!-- Quiz Content -->
            <div id="quiz-step-content" class="fade-in space-y-6">
                <!-- Question will be injected here -->
            </div>
        </div>
    </div>

    <!-- Info Cards -->
    <div class="mt-8 max-w-2xl w-full mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 pb-10 px-0">
        <div class="bg-white p-5 rounded-3xl shadow-md border-b-4 border-amber-400 flex items-start space-x-4 transition-transform hover:-translate-y-1">
            <div class="bg-amber-100 p-2.5 rounded-2xl text-amber-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
            </div>
            <div>
                <h4 class="font-bold text-slate-800 text-sm mb-1 uppercase tracking-wider">Температура кипіння</h4>
                <p class="text-sm text-slate-600 leading-relaxed font-medium">Визначається рівнем <strong>плато на графіку</strong>. Чим вище горизонтальна ділянка на осі t, тим більша температура кипіння.</p>
            </div>
        </div>
        <div class="bg-white p-5 rounded-3xl shadow-md border-b-4 border-indigo-400 flex items-start space-x-4 transition-transform hover:-translate-y-1">
            <div class="bg-indigo-100 p-2.5 rounded-2xl text-indigo-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
            </div>
            <div>
                <h4 class="font-bold text-slate-800 text-sm mb-1 uppercase tracking-wider">Питома теплота пароутворення r</h4>
                <p class="text-sm text-slate-600 leading-relaxed font-medium">Пропорційна <strong>тривалості плато</strong>. Чим довша горизонтальна лінія, тим більше енергії витрачається на фазовий перехід.</p>
            </div>
        </div>
    </div>
</div>

<script>
    const questions = [
        {
            text: "Яка з речовин має найвищу температуру кипіння?",
            options: ["Речовина 1", "Речовина 2", "Речовина 3"],
            correct: 0,
            explanation: "Температура кипіння на графіку відповідає значенню на осі t (°C), де лінія переходить у плато. У речовини 1 ця ділянка знаходиться найвище на вертикальній осі."
        },
        {
            text: "У якої речовини найменша питома теплота пароутворення r (за умови однакових мас та потужності нагріву)?",
            options: ["Речовина 1", "Речовина 2", "Речовина 3"],
            correct: 0,
            explanation: "Питома теплота пароутворення r пропорційна тривалості плато. Оскільки горизонтальна ділянка у речовини 1 найкоротша, вона потребує найменшої кількості теплоти."
        },
        {
            text: "Яка речовина нагрівається до температури кипіння найшвидше?",
            options: ["Речовина 1", "Речовина 2", "Речовина 3"],
            correct: 0,
            explanation: "Швидкість нагрівання визначається нахилом ділянки до початку плато. Речовина 1 має найкрутіший підйом і найшвидше досягає температури кипіння."
        },
        {
            text: "Яка з речовин має найбільшу питому теплоту пароутворення r?",
            options: ["Речовина 1", "Речовина 2", "Речовина 3"],
            correct: 2,
            explanation: "Процес кипіння речовини 3 (плато на графіку) триває найдовше. Це означає, що їй потрібно передати найбільшу кількість теплоти для повного випаровування."
        }
    ];

    let currentStep = 0;
    let score = 0;
    let feedbackActive = false;

    const contentArea = document.getElementById('quiz-step-content');

    function renderQuestion() {
        const q = questions[currentStep];
        feedbackActive = false;
        
        contentArea.innerHTML = `
            <div class="bg-indigo-50/50 p-5 rounded-2xl border border-indigo-100 relative overflow-hidden text-center">
                <div class="absolute top-0 left-0 w-1 h-full bg-blue-600"></div>
                <div class="flex justify-between items-center mb-2">
                   <span class="text-xs font-bold text-indigo-500 uppercase tracking-tighter mx-auto">Питання ${currentStep + 1} з ${questions.length}</span>
                </div>
                <p class="font-bold text-xl leading-tight text-slate-800">${q.text}</p>
            </div>

            <div class="grid grid-cols-1 gap-3">
                ${q.options.map((opt, i) => `
                    <button onclick="handleAnswer(${i})" id="opt-${i}" class="relative group h-16 text-lg font-bold text-left px-6 transition-all duration-200 rounded-2xl border-2 flex items-center justify-between bg-white text-slate-700 border-slate-200 hover:border-blue-500 hover:bg-blue-50 hover:shadow-md active:scale-95 w-full">
                        <span>${opt}</span>
                    </button>
                `).join('')}
            </div>
            <div id="feedback-area"></div>
        `;
    }

    window.handleAnswer = function(index) {
        if (feedbackActive) return;
        feedbackActive = true;

        const q = questions[currentStep];
        const isCorrect = index === q.correct;
        if (isCorrect) score++;

        // Update buttons
        q.options.forEach((_, i) => {
            const btn = document.getElementById(`opt-${i}`);
            if (i === q.correct) {
                btn.className = "relative group h-16 text-lg font-bold text-left px-6 rounded-2xl border-2 flex items-center justify-between bg-green-600 text-white border-green-600 shadow-lg scale-[1.02] w-full";
                btn.innerHTML += `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>`;
            } else {
                btn.className = "relative group h-16 text-lg font-bold text-left px-6 rounded-2xl border-2 flex items-center justify-between bg-white text-slate-300 border-slate-100 opacity-60 w-full";
            }
        });

        // Show Feedback
        const feedbackDiv = document.getElementById('feedback-area');
        feedbackDiv.className = `mt-4 p-6 rounded-2xl flex flex-col md:flex-row items-center gap-4 animate-in fade-in slide-in-from-bottom-4 duration-300 ${isCorrect ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`;
        feedbackDiv.innerHTML = `
            <div class="p-3 rounded-xl ${isCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
                ${isCorrect ? 
                    '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>' : 
                    '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>'}
            </div>
            <div class="flex-1 text-center md:text-left">
                <p class="font-black text-lg ${isCorrect ? 'text-green-800' : 'text-red-800'}">${isCorrect ? 'Чудово! Правильно.' : 'Помилка в міркуванні.'}</p>
                <p class="text-slate-600 mt-1 text-sm leading-relaxed font-medium">${q.explanation}</p>
                <button onclick="nextStep()" class="mt-4 w-full md:w-auto bg-slate-900 hover:bg-black text-white font-bold rounded-xl px-8 py-3 transition-all flex items-center justify-center gap-2 group mx-auto md:mx-0">
                    <span>${currentStep < questions.length - 1 ? 'Наступне питання' : 'Переглянути результат'}</span>
                    <svg class="group-hover:translate-x-1 transition-transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                </button>
            </div>
        `;
    };

    window.nextStep = function() {
        if (currentStep < questions.length - 1) {
            currentStep++;
            renderQuestion();
        } else {
            renderResult();
        }
    };

    function renderResult() {
        const percent = Math.round((score / questions.length) * 100);
        const dashoffset = 502.4 - (502.4 * score) / questions.length;
        
        contentArea.innerHTML = `
            <div class="text-center py-6 space-y-8 fade-in">
                <div class="flex justify-center">
                    <div class="relative w-48 h-48">
                        <svg class="w-48 h-48" viewBox="0 0 200 200">
                            <circle cx="100" cy="100" r="80" stroke="#f1f5f9" stroke-width="16" fill="transparent" />
                            <circle class="progress-ring__circle" cx="100" cy="100" r="80" stroke="#2563eb" stroke-width="16" fill="transparent"
                                stroke-dasharray="502.4" stroke-dashoffset="${dashoffset}" stroke-linecap="round" />
                        </svg>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <svg class="text-blue-600 mb-1" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                            <span class="text-4xl font-black text-slate-800">${percent}%</span>
                        </div>
                    </div>
                </div>
                <div class="space-y-3">
                    <h3 class="text-3xl font-black text-slate-900">Завершено!</h3>
                    <p class="text-slate-500 text-lg font-medium px-4">
                        Ви успішно проаналізували графіки та відповіли на <strong>${score}</strong> з <strong>${questions.length}</strong> питань.
                    </p>
                </div>
                <button onclick="location.reload()" class="flex items-center justify-center gap-3 bg-blue-700 hover:bg-blue-800 text-white px-10 py-5 text-xl font-black rounded-2xl shadow-xl hover:shadow-2xl transition-all active:scale-95 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>
                    <span>Почати заново</span>
                </button>
            </div>
        `;
    }

    renderQuestion();
</script>

</body>
</html>